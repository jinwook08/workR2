AQ <- airquality
AQ[Ozone[NA:42.129310],]
# 문3)
# R에서 제공하는 airquality 데이터셋에 대해 다음의 문제를 해결하기 위한
# R 코드를 작성하시오.
#
# (1) airquality를 AQ에 저장하시오.
AQ <- airquality
AQ
AQ[ ,c(Ozone[NA:42.129310])]
AQ[ ,c(Ozone[NA:42.129310])]
ds <- state.x77
ds[2,3] <- NA; ds[3,1] <- NA; ds[2,4] <- NA; ds[4,3] <- NA
#
#(1) 각 열별로 결측값이 몇 개인지 출력하시오.
for ( i in 1:ncol( ds ) ) {
cat( 'column [ ', i, ' ] : ', sum( is.na( ds[ , i ] ) ), '\n' )
}
#(2) 결측값이 포함된 행들의 데이터를 출력하시오.
idx <- c()
for ( i in 1:nrow( ds ) ) {
if ( sum( is.na( ds[ i, ] ) ) > 0 ) {
idx <- c( idx, i )
}
}
ds[ idx, ]
#(3) 결측값이 포함된 행은 몇 개인지 출력하시오.
cnt <- 0
for ( i in 1:nrow( ds ) ) {
if ( sum( is.na( ds[ i, ] ) ) > 0 ) {
cnt <- cnt + 1
}
}
cnt
#(4) 결측값이 포함된 행들을 제외하고 새로운 데이터셋 ds.new를 만들어보시오.
idx <- c()
for ( i in 1:nrow( ds ) ) {
if ( sum( is.na( ds[ i, ] ) ) > 0 ) {
idx <- c( idx, i )
}
}
ds.new <- ds[ -idx, ]
ds.new
AQ2<- colMeans(AQ,na.rm = T)
AQ <- airquality
AQ
# (2) AQ에서 열별로 NA의 개수를 출력하시오.
AQ_count <- apply(AQ,2,function(air)sum(is.na(air)))
AQ_count
# (3) AQ에서 행별로 NA의 개수를 출력하시오.
AQ_count1 <- apply(AQ,1,function(air)sum(is.na(air)))
AQ_count1
# (4) AQ에서 NA를 포함하지 않은 행들만 출력하시오.
AQ[complete.cases(AQ),]
# (5) AQ에서 NA를 NA가 속한 열의 평균값으로 치환하여 AQ2로 저장하고, AQ2의 내용을
# 출력하시오.
AQ2<- colMeans(AQ,na.rm = T)
AQ2
AQ <- airquality
#(2) AQ에서 열별로 NA의 개수를 출력하시오.
for ( i in 1:ncol( AQ ) ) {
cnt <- sum( is.na( AQ[ , i ] ) )
cat( names( AQ )[ i ], '\t', cnt, '\n' )
}
#(3) AQ에서 행별로 NA의 개수를 출력하시오.
for ( i in 1:nrow( AQ ) ) {
cnt <- sum( is.na( AQ[ , i ] ) )
cat( 'row [ ', i, ' ] : ', cnt, '\n' )
}
#(4) AQ에서 NA를 포함하지 않은 행들만 출력하시오.
AQ[ complete.cases( AQ ), ]
#(5) AQ에서 NA를 NA가 속한 열의 평균값으로 치환하여 AQ2로 저장하고, AQ2의 내용을
#출력하시오.
colmean <- colMeans( AQ, na.rm = T )
colmean
AQ2 <- AQ
for ( i in 1:ncol( AQ2 ) ) {
AQ2[ is.na( AQ2[ , i ] ), i ] <- colmean[ i ]
}
AQ2
# (5) AQ에서 NA를 NA가 속한 열의 평균값으로 치환하여 AQ2로 저장하고, AQ2의 내용을
# 출력하시오.
str(AQ)
for ( i in 1:ncol( st ) ) {
outlier <- boxplot.stats( st[ , i ] )$out
if ( length( outlier ) > 0 ) {
st[ st[ , i ] %in% outlier, i ] <- NA
}
}
st
# ds[2,3] <- NA; ds[3,1] <- NA; ds[2,4] <- NA; ds[4,3] <- NA
#
ds <- state.x77
ds[2,3] <- NA
ds[3,1] <- NA
ds[2,4] <- NA
ds[4,3] <- NA
# (1) 각 열별로 결측값이 몇 개인지 출력하시오.
na_count <- apply(ds,2,function(df)sum(is.na(df)))
na_count
ds[!complete.cases(ds),]
idx <- c()
for ( i in 1:nrow( ds ) ) {
if ( sum( is.na( ds[ i, ] ) ) > 0 ) {
idx <- c( idx, i )
}
}
ds[ idx, ]
#결측치가 있을때 변수관의 관계를 통하여 확인해보는 방법.
barplot(na_count[na_count>0])
install.packages('VIM')
require(VIM)       ###라이브러리랑 같은 함수.
#결측치 자료 조합 확인용 시각화 도구
aggr(x, prop = FALSE, numbers = TRUE)
#두 개의 변수간의 결측치 관계 확인 시각화 도구
marginplot(x[c('Sepal.Width','Sepal.Length')],
pch=20,
col=c('darkgray','red','blue'))
#결측치가 있을때 변수관의 관계를 통하여 확인해보는 방법.
barplot(na_count[na_count>0])
install.packages('VIM')
require(VIM)       ###라이브러리랑 같은 함수.
#결측치 자료 조합 확인용 시각화 도구
aggr(x, prop = FALSE, numbers = TRUE)
#두 개의 변수간의 결측치 관계 확인 시각화 도구
marginplot(x[c('Sepal.Width','Sepal.Length')],
pch=20,
col=c('darkgray','red','blue'))
install.packages("VIM")
#두 개의 변수간의 결측치 관계 확인 시각화 도구
marginplot(x[c('Sepal.Width','Sepal.Length')],
pch=20,
col=c('darkgray','red','blue'))
#두 개의 변수간의 결측치 관계 확인 시각화 도구
marginplot(x[c('Sepal.Width','Sepal.Length')],
pch=20,
col=c('darkgray','red','blue'))
#두 개의 변수간의 결측치 관계 확인 시각화 도구
marginplot(x[c('Sepal.Width','Sepal.Length')],
pch=20,
col=c('darkgray','red','blue'))
#벡터로 바꾸어라.
#MAtrix/Data Frame 결측치 처리
x <- iris
x[1,2] <- NA
x[1,3] <- NA
x[2,3] <- NA
x[3,4] <- NA
head(x)
#Matrix/Data Frame 열별 결측치 확인 방법.
#for문 이용
for(i in 1:ncol(x)){
this.na <- is.na(x[ , i])
cat(colnames(x)[i],
"\t", sum(this.na),
'\n')
}
#열 별로 결측치가 몇개 있는지 파악이 가능하다.
#이 방법이 더 많이 쓰이는 방법이다 .
#apply()이용
col_na <- function(y){
return (sum(is.na(y)))
}                                   #apply(data frame,  행방향=1/열 방향=2, 함수=>반복 1회차에 실행. )
na_count <- apply(x,2,col_na)         #apply함수 자체가 반복문을 가지고 있다.
na_count
###다르게 apply를 사용하는 방법.//익명 함수를 사용하는 방법.
#이 방법을 더 많이 사용한다.
na_count <- apply(x,2,
function(y) sum (is.na(y)))
na_count
#apply(x,2 function(y) sum(is.na(y)))
#function(y) sum(is.na(y))--> 익명 함수라 한다.
#
#결측치가 있을때 변수관의 관계를 통하여 확인해보는 방법.
barplot(na_count[na_count>0])
install.packages('VIM')
require(VIM)       ###라이브러리랑 같은 함수.
#결측치 자료 조합 확인용 시각화 도구
aggr(x, prop = FALSE, numbers = TRUE)
#두 개의 변수간의 결측치 관계 확인 시각화 도구
marginplot(x[c('Sepal.Width','Sepal.Length')],
pch=20,
col=c('darkgray','red','blue'))
install.packages("VIM")
#두 개의 변수간의 결측치 관계 확인 시각화 도구
marginplot(x[c('Sepal.Width','Sepal.Length')],
pch=20,
col=c('darkgray','red','blue'))
smm <- mm/100000
setwd("C:/Users/ICT01_14/Desktop/개인 프로젝트/내 외국인 관광객 현황")
pp <- read.csv("제주특별자치도_내국인관광객현황_2015.csv")
pp
col <- rowSums(pp[c(1,2,3) , c(-1,-2,-3)])  #2015형태별 제주도 관광객.
col
chh <- sum(col) #2015제주도 총관광객 인원
chh
형태 <- c('개별여행','부분패키지','패키지')
목적 <- c('레저스포츠','회의및업무','휴양및관람','친지방문','교육여행','기타방문')
travel._2015 <- data.frame(형태,col)
travel._2015          #전체 제주도 관광 형태.
##제주도 관광 목적.##
goal <- rowSums(pp[c(-1,-2,-3) , c(-1,-2,-3)])
goal
travel2._2015 <- data.frame(목적,goal)
travel2._2015            #형태별 제주도 관광 형태.
sum(goal)
pp1 <- read.csv("제주특별자치도_내국인관광객현황_2016.csv")
pp1
col1 <- rowSums(pp1[c(1,2,3) , c(-1,-2,-3)])  #2016형태별 제주도 관광객.
col1
chh1 <- sum(col1) #2016제주도 총관광객 인원
chh1
형태 <- c('개별여행','부분패키지','패키지')
목적 <- c('레저스포츠','회의및업무','휴양및관람','친지방문','교육여행','기타방문')
travel._2016 <- data.frame(형태,col1)
travel._2016          #전체 제주도 관광 형태.
##제주도 관광 목적.##
goal1 <- rowSums(pp1[c(-1,-2,-3) , c(-1,-2,-3)])
goal1
travel2._2016 <- data.frame(목적,goal1)
travel2._2016           #형태별 제주도 관광 형태.
sum(goal1)
pp2 <- read.csv("제주특별자치도_내국인관광객현황_20171231.csv")
pp2
col2 <- rowSums(pp2[c(1,2,3) , c(-1,-2,-15)])  #2017형태 제주도 관광객.
col2
chh2 <- sum(col2) #2017제주도 총관광객 인원
chh2
형태 <- c('개별여행','부분패키지','패키지')
목적 <- c('레저스포츠','회의및업무','휴양및관람','친지방문','교육여행','기타방문')
travel._2017 <- data.frame(형태,col2)
travel._2017          #전체 제주도 관광 형태.
##제주도 관광 목적.##
goal2 <- rowSums(pp2[c(-1,-2,-3) , c(-1,-2,-15)])
goal2
travel2._2017 <- data.frame(목적,goal2)
travel2._2017           #형태별 제주도 관광 형태.
sum(goal2)
pp3 <- read.csv("제주특별자치도_내국인관광객현황_20181231.csv")
pp3
col3 <- rowSums(pp3[c(1,2,3) , c(-1,-2,-15)])  #2018형태별 제주도 관광객.
col3
chh3 <- sum(col3) #2018제주도 총관광객 인원
chh3
형태 <- c('개별여행','부분패키지','패키지')
목적 <- c('레저스포츠','회의및업무','휴양및관람','친지방문','교육여행','기타방문')
travel._2018 <- data.frame(형태,col3)
travel._2018          #전체 제주도 관광 형태.
##제주도 관광 목적.##
goal3 <- rowSums(pp3[c(-1,-2,-3) , c(-1,-2,-15)])
goal3
travel2._2018 <- data.frame(목적,goal3)
travel2._2018           #형태별 제주도 관광 형태.
sum(goal3)
##################################################################################################################
read.csv('제주특별자치도_연도별관광객입도현황_2013_2018.csv')
fore <- read.csv('제주특별자치도_연도별관광객입도현황_2013_2018.csv')
fore
Tr<- fore[c(-1),c(-8)]
jap<- Tr[1,]
jap            ##15~18년도별 일본인 현황
jap1<- sum(jap[ ,c(-1,-2,-3 )])  #15~18년도 일본인 합계
jap1
us <- Tr[2,]
us                  ##15~18년도별 미국인 현황
us1<- sum(us[ , c(-1,-2,-3 )])          #15~18년도 미국인 합계
us1
tw <- Tr[3,]
tw                    #15~18년도별 대만인 합계
tw1<- sum(tw[,c(-1,-2,-3 )])            #15~18년도 중국인 합계
tw1
ch <- Tr[4,]
ch                    ##15~18 년도별 중국인 현황
ch1 <- sum(ch[,c(-1,-2,-3 )])           ##15~18년도별 중국인 합계
ch1
hk <- Tr[5,]
hk                    ##15~18 년도별 홍콩인 현황
hk1<- sum(hk[,c(-1,-2,-3 )])             ##15~18년도별 홍콩인 합계
hk1
sg <- Tr[6,]
sg                    ##15~18 년도별 싱가폴인 현황
sg1<- sum(sg[,c(-1,-2,-3 )])             ##15~18년도별 싱가폴인 합계
sg1
mal <- Tr[7,]
mal                    ##15~18 년도별 말레이시아인 현황
mal1<- sum(mal[,c(-1,-2,-3 )])             ##15~18년도별 말레이시아인 합계
mal1
ext <- Tr[8,]
ext                    ##15~18 년도별 기타인 현황
ext1<- sum(ext[,c(-1,-2,-3 )])             ##15~18년도별 기타인 합계
ext1
sum(chh,chh1,chh2,chh3)   #2015~2018까지 내국인 관광객수의 합.
mm <- sum(chh,chh1,chh2,chh3)
mm/4    #2015~2018 내국인 평균 인원수
sum(jap1,us1,tw1,ch1,hk1,sg1,mal1,ext1)   #2015~2018 외국인 합계수
mm1 <- sum(jap1,us1,tw1,ch1,hk1,sg1,mal1,ext1)
mm1/4
#2013~2018 외국인 평균
barplot(mm,mm1,main = '2015~2018제주도 방문관광객')
smm <- mm/100000
chh
chh1
chh2
chh3
###################################################
Tr<- fore[c(-1),c(-8)]
jap<- Tr[1,]
jap            ##15~18년도별 일본인 현황
jap1<- sum(jap[ ,7])  #15~18년도 일본인 합계
jap1
us <- Tr[2,]
us                  ##15~18년도별 미국인 현황
us1<- sum(us[ , 7])          #15~18년도 미국인 합계
us1
tw <- Tr[3,]
tw                    #15~18년도별 대만인 합계
tw1<- sum(tw[,7])            #15~18년도 중국인 합계
tw1
ch <- Tr[4,]
ch                    ##15~18 년도별 중국인 현황
ch1 <- sum(ch[,7])           ##15~18년도별 중국인 합계
ch1
hk <- Tr[5,]
hk                    ##15~18 년도별 홍콩인 현황
hk1<- sum(hk[,7])             ##15~18년도별 홍콩인 합계
hk1
sg <- Tr[6,]
sg                    ##15~18 년도별 싱가폴인 현황
sg1<- sum(sg[,7])             ##15~18년도별 싱가폴인 합계
sg1
mal <- Tr[7,]
mal                    ##15~18 년도별 말레이시아인 현황
mal1<- sum(mal[,7])             ##15~18년도별 말레이시아인 합계
mal1
ext <- Tr[8,]
ext                    ##15~18 년도별 기타인 현황
ext1<- sum(ext[,7])             ##15~18년도별 기타인 합계
ext1
sum(jap1,us1,tw1,ch1,hk1,sg1,mal1,ext1) #2015년 외국인 제주도 방문 합계.
setwd("C:/Users/ICT01_14/Desktop/개인 프로젝트/내 외국인 관광객 현황")
pp <- read.csv("제주특별자치도_내국인관광객현황_2015.csv")
pp
col <- rowSums(pp[c(1,2,3) , c(-1,-2,-3)])  #2015형태별 제주도 관광객.
col
chh <- sum(col) #2015제주도 총관광객 인원
chh
형태 <- c('개별여행','부분패키지','패키지')
목적 <- c('레저스포츠','회의및업무','휴양및관람','친지방문','교육여행','기타방문')
travel._2015 <- data.frame(형태,col)
travel._2015          #전체 제주도 관광 형태.
##제주도 관광 목적.##
goal <- rowSums(pp[c(-1,-2,-3) , c(-1,-2,-3)])
goal
travel2._2015 <- data.frame(목적,goal)
travel2._2015            #형태별 제주도 관광 형태.
sum(goal)
etwd("C:\Users\qlswl\Desktop\개인 프로젝트\내 외국인 관광객 현황")
pp <- read.csv("제주특별자치도_내국인관광객현황_2015.csv")
pp
col <- rowSums(pp[c(1,2,3) , c(-1,-2,-3)])  #2015형태별 제주도 관광객.
col
chh <- sum(col) #2015제주도 총관광객 인원
chh
형태 <- c('개별여행','부분패키지','패키지')
목적 <- c('레저스포츠','회의및업무','휴양및관람','친지방문','교육여행','기타방문')
travel._2015 <- data.frame(형태,col)
travel._2015          #전체 제주도 관광 형태.
##제주도 관광 목적.##
goal <- rowSums(pp[c(-1,-2,-3) , c(-1,-2,-3)])
goal
travel2._2015 <- data.frame(목적,goal)
travel2._2015            #형태별 제주도 관광 형태.
sum(goal)
pp1 <- read.csv("제주특별자치도_내국인관광객현황_2016.csv")
pp1
col1 <- rowSums(pp1[c(1,2,3) , c(-1,-2,-3)])  #2016형태별 제주도 관광객.
col1
chh1 <- sum(col1) #2016제주도 총관광객 인원
chh1
형태 <- c('개별여행','부분패키지','패키지')
목적 <- c('레저스포츠','회의및업무','휴양및관람','친지방문','교육여행','기타방문')
travel._2016 <- data.frame(형태,col1)
travel._2016          #전체 제주도 관광 형태.
##제주도 관광 목적.##
goal1 <- rowSums(pp1[c(-1,-2,-3) , c(-1,-2,-3)])
goal1
travel2._2016 <- data.frame(목적,goal1)
travel2._2016           #형태별 제주도 관광 형태.
sum(goal1)
pp2 <- read.csv("제주특별자치도_내국인관광객현황_20171231.csv")
pp2
col2 <- rowSums(pp2[c(1,2,3) , c(-1,-2,-15)])  #2017형태 제주도 관광객.
col2
chh2 <- sum(col2) #2017제주도 총관광객 인원
chh2
형태 <- c('개별여행','부분패키지','패키지')
목적 <- c('레저스포츠','회의및업무','휴양및관람','친지방문','교육여행','기타방문')
travel._2017 <- data.frame(형태,col2)
travel._2017          #전체 제주도 관광 형태.
##제주도 관광 목적.##
goal2 <- rowSums(pp2[c(-1,-2,-3) , c(-1,-2,-15)])
goal2
travel2._2017 <- data.frame(목적,goal2)
travel2._2017           #형태별 제주도 관광 형태.
sum(goal2)
pp3 <- read.csv("제주특별자치도_내국인관광객현황_20181231.csv")
pp3
col3 <- rowSums(pp3[c(1,2,3) , c(-1,-2,-15)])  #2018형태별 제주도 관광객.
col3
chh3 <- sum(col3) #2018제주도 총관광객 인원
chh3
형태 <- c('개별여행','부분패키지','패키지')
목적 <- c('레저스포츠','회의및업무','휴양및관람','친지방문','교육여행','기타방문')
travel._2018 <- data.frame(형태,col3)
travel._2018          #전체 제주도 관광 형태.
##제주도 관광 목적.##
goal3 <- rowSums(pp3[c(-1,-2,-3) , c(-1,-2,-15)])
goal3
travel2._2018 <- data.frame(목적,goal3)
travel2._2018           #형태별 제주도 관광 형태.
sum(goal3)
##################################################################################################################
read.csv('제주특별자치도_연도별관광객입도현황_2013_2018.csv')
fore <- read.csv('제주특별자치도_연도별관광객입도현황_2013_2018.csv')
fore
Tr<- fore[c(-1),c(-8)]
jap<- Tr[1,]
jap            ##15~18년도별 일본인 현황
jap1<- sum(jap[ ,c(-1,-2,-3 )])  #15~18년도 일본인 합계
jap1
us <- Tr[2,]
us                  ##15~18년도별 미국인 현황
us1<- sum(us[ , c(-1,-2,-3 )])          #15~18년도 미국인 합계
us1
tw <- Tr[3,]
tw                    #15~18년도별 대만인 합계
tw1<- sum(tw[,c(-1,-2,-3 )])            #15~18년도 중국인 합계
tw1
ch <- Tr[4,]
ch                    ##15~18 년도별 중국인 현황
ch1 <- sum(ch[,c(-1,-2,-3 )])           ##15~18년도별 중국인 합계
ch1
hk <- Tr[5,]
hk                    ##15~18 년도별 홍콩인 현황
hk1<- sum(hk[,c(-1,-2,-3 )])             ##15~18년도별 홍콩인 합계
hk1
sg <- Tr[6,]
sg                    ##15~18 년도별 싱가폴인 현황
sg1<- sum(sg[,c(-1,-2,-3 )])             ##15~18년도별 싱가폴인 합계
sg1
mal <- Tr[7,]
mal                    ##15~18 년도별 말레이시아인 현황
mal1<- sum(mal[,c(-1,-2,-3 )])             ##15~18년도별 말레이시아인 합계
mal1
ext <- Tr[8,]
ext                    ##15~18 년도별 기타인 현황
ext1<- sum(ext[,c(-1,-2,-3 )])             ##15~18년도별 기타인 합계
ext1
sum(chh,chh1,chh2,chh3)   #2015~2018까지 내국인 관광객수의 합.
mm <- sum(chh,chh1,chh2,chh3)
mm/4    #2015~2018 내국인 평균 인원수
sum(jap1,us1,tw1,ch1,hk1,sg1,mal1,ext1)   #2015~2018 외국인 합계수
mm1 <- sum(jap1,us1,tw1,ch1,hk1,sg1,mal1,ext1)
mm1/4
#2013~2018 외국인 평균
barplot(mm,mm1,main = '2015~2018제주도 방문관광객')
smm <- mm/100000
chh
chh1
chh2
chh3
###################################################
Tr<- fore[c(-1),c(-8)]
jap<- Tr[1,]
jap            ##15~18년도별 일본인 현황
jap1<- sum(jap[ ,7])  #15~18년도 일본인 합계
jap1
us <- Tr[2,]
us                  ##15~18년도별 미국인 현황
us1<- sum(us[ , 7])          #15~18년도 미국인 합계
us1
tw <- Tr[3,]
tw                    #15~18년도별 대만인 합계
tw1<- sum(tw[,7])            #15~18년도 중국인 합계
tw1
ch <- Tr[4,]
ch                    ##15~18 년도별 중국인 현황
ch1 <- sum(ch[,7])           ##15~18년도별 중국인 합계
ch1
hk <- Tr[5,]
hk                    ##15~18 년도별 홍콩인 현황
hk1<- sum(hk[,7])             ##15~18년도별 홍콩인 합계
hk1
sg <- Tr[6,]
sg                    ##15~18 년도별 싱가폴인 현황
sg1<- sum(sg[,7])             ##15~18년도별 싱가폴인 합계
sg1
mal <- Tr[7,]
mal                    ##15~18 년도별 말레이시아인 현황
mal1<- sum(mal[,7])             ##15~18년도별 말레이시아인 합계
mal1
ext <- Tr[8,]
ext                    ##15~18 년도별 기타인 현황
ext1<- sum(ext[,7])             ##15~18년도별 기타인 합계
ext1
sum(jap1,us1,tw1,ch1,hk1,sg1,mal1,ext1) #2015년 외국인 제주도 방문 합계.
setwd("C:\Users\qlswl\Desktop\개인 프로젝트\내 외국인 관광객 현황")
setwd("C:/Users/qlswl/Desktop/개인 프로젝트내 외국인 관광객 현황")
pp <- read.csv("제주특별자치도_내국인관광객현황_2015.csv")
setwd("C:/Users/qlswl/Desktop/개인 프로젝트내 외국인 관광객 현황")
setwd("C:/Users/qlswl/Desktop/개인 프로젝트내 외국인 관광객 현황")
pp <- read.csv("제주특별자치도_내국인관광객현황_2015.csv")
